webpackJsonp([1],Array(46).concat([function(t,e,s){var n=s(1)(s(72),s(128),null,null,null);t.exports=n.exports},function(t,e,s){function n(t){s(112)}var a=s(1)(s(74),s(126),n,null,null);t.exports=a.exports},function(t,e,s){var n=s(1)(s(75),s(132),null,null,null);t.exports=n.exports},function(t,e,s){"use strict";var n=s(15),a=s(135),i=s(47),r=s.n(i),o=s(46),c=s.n(o),l=s(48),u=s.n(l);n.a.use(a.a),e.a=new a.a({linkActiveClass:"active",routes:[{path:"/product",component:r.a},{path:"/comments",component:c.a},{path:"/seller",component:u.a}]})},function(t,e){},function(t,e,s){function n(t){s(116)}var a=s(1)(s(69),s(131),n,null,null);t.exports=a.exports},,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(123),a=s.n(n),i=s(125),r=s.n(i),o=s(47),c=(s.n(o),s(46)),l=(s.n(c),s(48)),u=(s.n(l),s(30)),d=s.n(u);e.default={name:"app",data:function(){return{seller:{}}},created:function(){var t=this;d.a.get("/api/seller").then(function(e){0===e.data.errno&&(t.seller=e.data.data)}).catch(function(t){})},components:{myHeader:a.a,tab:r.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"cart",props:{selectedFood:{type:Array,default:function(){return[]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},computed:{totalPrice:function(){var t=0;return this.selectedFood.forEach(function(e){t+=e.price*e.count}),t},totalCount:function(){var t=0;return this.selectedFood.forEach(function(e){t+=e.count}),t},payDesc:function(){return 0===this.totalPrice?"¥"+this.minPrice+"元起送":this.totalPrice<this.minPrice?"还差"+(this.minPrice-this.totalPrice)+"元起送":"去结算"},payClass:function(){return this.totalPrice<this.minPrice?"below":"equal"}},data:function(){return{}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(15);e.default={name:"cartcontrol",props:{food:{type:Object}},created:function(){},data:function(){return{}},methods:{minusCart:function(){event._constructed&&this.food.count--},addCart:function(){console.log(1),this.food.count?this.food.count++:n.a.set(this.food,"count",1)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"comments",props:{seller:{}},data:function(){return{}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(124),a=s.n(n);e.default={props:{seller:{type:Object,required:!0}},name:"my-header",data:function(){return{detailShow:!1}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},components:{star:a.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(81),a=s.n(n),i=s(122),r=s.n(i),o=s(121),c=s.n(o),l=s(82),u=s.n(l),d=s(30),p=s.n(d);e.default={name:"product",props:{seller:{}},components:{cart:c.a,cartcontrol:r.a},data:function(){return{product:[],classMap:[],listHeight:[],scrollY:0}},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var e=this.listHeight[t],s=this.listHeight[t+1];if(this.scrollY>=e&&this.scrollY<s)return t}return 0},selectedFood:function(){var t=[];return this.product.forEach(function(e){e.foods.forEach(function(e){e.count&&t.push(e)})}),t}},created:function(){var t=this;this.classMap=["decrease","discount","special","invoice","guarantee"],p.a.get("/api/goods").then(function(e){0===e.data.errno&&(t.product=e.data.data),t.$nextTick(function(){t._initScroll(),t._calculateHeight()})}).catch(function(t){}),console.log("created")},mounted:function(){var t=document.getElementsByClassName("food-list-hook");console.log(void 0===t?"undefined":a()(t)),this.$nextTick(function(){}),console.log("mounted")},methods:{_initScroll:function(){var t=this;console.log("initScroll!"),this.menuScroll=new u.a(this.$refs.menuWrapper,{click:!0}),this.foodsScroll=new u.a(this.$refs.foodsWrapper,{click:!0,probeType:3}),this.foodsScroll.on("scroll",function(e){t.scrollY=Math.abs(Math.round(e.y))})},_calculateHeight:function(){var t=this.$refs.foodsWrapper.getElementsByClassName("food-list-hook"),e=0;this.listHeight.push(e),console.log(t.length);for(var s=0;s<t.length;s++)e+=t[s].clientHeight,this.listHeight.push(e)},selectMenu:function(t,e){if(e._constructed){var s=this.$refs.foodsWrapper.getElementsByClassName("food-list-hook");this.foodsScroll.scrollToElement(s[t],300)}}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"seller",props:{seller:{}},data:function(){return{}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},itemClasses:function(){for(var t=[],e=Math.floor(2*this.score)/2,s=e%1==0,n=Math.floor(e),a=0;a<n;a++)t.push("on");for(s&&t.push("half");t.length<5;)t.push("of");return t}},name:"star",data:function(){return{}}}},function(t,e){},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(15),a=s(51),i=s.n(a),r=s(49),o=s(50);s.n(o);r.a.push("/product"),n.a.config.productionTip=!1,new n.a({el:"#app",router:r.a,template:"<App/>",components:{App:i.a}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,s){function n(t){s(114)}var a=s(1)(s(70),s(129),n,null,null);t.exports=a.exports},function(t,e,s){function n(t){s(118)}var a=s(1)(s(71),s(134),n,null,null);t.exports=a.exports},function(t,e,s){function n(t){s(117)}var a=s(1)(s(73),s(133),n,null,null);t.exports=a.exports},function(t,e,s){function n(t){s(113)}var a=s(1)(s(76),s(127),n,null,null);t.exports=a.exports},function(t,e,s){function n(t){s(115)}var a=s(1)(s(77),s(130),n,null,null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product"},[s("div",{ref:"menuWrapper",staticClass:"menu-wrapper"},[s("ul",t._l(t.product,function(e,n){return s("li",{staticClass:"menu-item",class:{current:t.currentIndex==n},on:{click:function(e){t.selectMenu(n,e)}}},[s("span",{staticClass:"text border-1px"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.type>0,expression:"item.type>0"}],staticClass:"icon",class:t.classMap[e.type]}),t._v("\n          "+t._s(e.name)+"\n        ")])])}))]),t._v(" "),s("div",{ref:"foodsWrapper",staticClass:"foods-wrapper"},[s("ul",t._l(t.product,function(e){return s("li",{staticClass:"foods-list food-list-hook"},[s("h1",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),s("ul",t._l(e.foods,function(e){return s("li",{staticClass:"food-item border-1px"},[s("div",{staticClass:"icon"},[s("img",{attrs:{width:"57",height:"57",src:e.icon,alt:""}})]),t._v(" "),s("div",{staticClass:"content"},[s("h2",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"desc"},[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"extra"},[s("span",{staticClass:"count"},[t._v("月售:"+t._s(e.sellCount))]),t._v(" "),s("span",[t._v("好评率:"+t._s(e.rating)+"%")])]),t._v(" "),s("div",{staticClass:"price"},[s("span",{staticClass:"now"},[t._v("¥"+t._s(e.price))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("¥"+t._s(e.oldPrice))])])]),t._v(" "),s("div",{staticClass:"cartcontrol-wrapper"},[s("cartcontrol",{attrs:{food:e}})],1)])}))])}))]),t._v(" "),s("cart",{attrs:{deliveryPrice:t.seller.deliveryPrice,minPrice:t.seller.minPrice,selectedFood:t.selectedFood}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"star",class:t.starType},t._l(t.itemClasses,function(t){return s("span",{staticClass:"star-item",class:t})}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"comments"},[t._v("\n  评论页面\n")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-cart"},[s("div",{staticClass:"content"},[s("div",{staticClass:"content-left"},[s("div",{staticClass:"logo-wrapper"},[s("div",{staticClass:"logo",class:{highlight:t.totalCount>0}},[s("i",{staticClass:"icon-shopping_cart",class:{highlight:t.totalCount>0}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount>0,expression:"totalCount>0"}],staticClass:"num"},[t._v(t._s(t.totalCount))])]),t._v(" "),s("div",{staticClass:"total-price",class:{highlight:t.totalPrice>0}},[t._v("¥ "+t._s(t.totalPrice))]),t._v(" "),s("div",{staticClass:"delivery-price"},[t._v("另需配送费 ¥ "+t._s(t.deliveryPrice)+" 元")])]),t._v(" "),s("div",{staticClass:"content-right"},[s("div",{staticClass:"pay",class:t.payClass},[t._v("\n               "+t._s(t.payDesc)+"\n            ")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab border-1px"},[s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/product"}},[t._v("商品")])],1),t._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/comments"}},[t._v("评价")])],1),t._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/seller"}},[t._v("商家")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("my-header",{attrs:{seller:t.seller}}),t._v(" "),s("tab"),t._v(" "),s("router-view",{attrs:{seller:t.seller}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"seller"},[t._v("\n  商家信息页面\n")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"content-wrapper"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{width:"64",height:"64",src:t.seller.avatar,alt:""}})]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"title"},[s("span",{staticClass:"brand"}),t._v(" "),s("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),t._v(" "),s("div",{staticClass:"description"},[t._v("\n        "+t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达\n      ")]),t._v(" "),t.seller.supports?s("div",{staticClass:"support"},[s("span",{staticClass:"icon",class:t.classMap[t.seller.supports[0].type]}),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[0].description))])]):t._e()]),t._v(" "),t.seller.supports?s("div",{staticClass:"support-count",on:{click:function(e){t.detailShow=!0}}},[s("span",{staticClass:"count"},[t._v(t._s(t.seller.supports.length)+"个")]),t._v(" "),s("i",{staticClass:"icon-keyboard_arrow_right"})]):t._e()]),t._v(" "),s("div",{staticClass:"bulletin-wrapper",on:{click:function(e){t.detailShow=!0}}},[s("span",{staticClass:"bulletin-title"}),s("span",{staticClass:"bulletin-text"},[t._v(t._s(t.seller.bulletin))]),t._v(" "),s("i",{staticClass:"icon-keyboard_arrow_right"})]),t._v(" "),s("div",{staticClass:"background"},[s("img",{attrs:{width:"100%",height:"100%",src:t.seller.avatar,alt:""}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"detail",attrs:{transition:"fade"}},[s("div",{staticClass:"detail-wrapper clearfix"},[s("div",{staticClass:"detail-main"},[s("h1",{staticClass:"name"},[t._v(t._s(t.seller.name))]),t._v(" "),s("div",{staticClass:"star-wrapper"},[s("star",{attrs:{score:t.seller.score,size:48}})],1),t._v(" "),t._m(0),t._v(" "),t.seller.supports?s("ul",{staticClass:"supports"},t._l(t.seller.supports,function(e,n){return s("li",{staticClass:"supports-item"},[s("span",{staticClass:"icon",class:t.classMap[t.seller.supports[n].type]}),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[n].description))])])})):t._e(),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"bulletin"},[s("p",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))])])])]),t._v(" "),s("div",{staticClass:"detail-close"},[s("i",{staticClass:"icon-close",on:{click:function(e){t.detailShow=!1}}})])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"text"},[t._v("优惠信息")]),t._v(" "),s("div",{staticClass:"line"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"text"},[t._v("商家公告")]),t._v(" "),s("div",{staticClass:"line"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-control"},[s("transition",{attrs:{name:"move"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-decrease",on:{click:t.minusCart}},[s("span",{staticClass:"inner icon-remove_circle_outline"})])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))]),t._v(" "),s("div",{staticClass:"cart-increase icon-add_circle",on:{click:t.addCart}})],1)},staticRenderFns:[]}}]),[78]);
//# sourceMappingURL=app.67007634c73e704c3e8a.js.map